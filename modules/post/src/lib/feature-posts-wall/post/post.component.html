@if(post(); as post) {
   <lib-avatar-circle
      class="size32"
      [avatarUrl]="post.Author?.ImageBase64"
   ></lib-avatar-circle>

   <main class="post-body">
      <div class="post-header">
         <strong class="post__author">
            {{ post.Author?.FirstName}} {{ post.Author?.LastName }}
            <span class="post__created-at">{{ post.CreatedAt | dateDelta }}</span>
         </strong>
      </div>
      <div class="post-content medium-text">{{ post.Content }}</div>

      <div class="post-counters ">
         <span class="comment-amount" type="button" aria-hidden="true" (click)="toggleComments()">
            <img width="16px" height="16px" src="/assets/svg/comment.svg" alt="comment button">
            <span class="comments-length">{{ comments().length }}</span>
         </span>
         <span class="likes-amount">
            <img width="16px" height="16px" src="/assets/svg/heart.svg" alt="comment button">
            <span class="likes-length">{{ post.PostLikes.length }}</span>
         </span>
      </div>

      @if( isCommentsOpened() ) {
         <lib-message-input
            class="comment"
            [avatarUrl]=""
            (created)="handleCommentCreate($event)"
         ></lib-message-input>
         <div class="post__comments-wrapper">
            @for(comment of comments(); track comment.Id) {
               <lib-comment [comment]="comment"></lib-comment>
            }
         </div>
      }
      
   </main>
} 
